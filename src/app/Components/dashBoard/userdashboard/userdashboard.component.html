<p>userdashboard works!</p>

<div class="icons">
  <div >
<mat-form-field appearance="outline">
  <mat-label>Search</mat-label>
  <input matInput [(ngModel)]="searchstr"  (input)="applyFilter($event)" placeholder="Search...">
</mat-form-field>&nbsp;
 <mat-form-field appearance="outline">
  <mat-label>Choose a date range</mat-label>
  <mat-date-range-input [rangePicker]="picker">
    <input matStartDate placeholder="Start date" [(ngModel)]="startDate">
    <input matEndDate placeholder="End date" [(ngModel)]="endDate">
  </mat-date-range-input>
  <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
  <mat-date-range-picker #picker></mat-date-range-picker>
</mat-form-field>
 </div>
<!-- <mat-date-range-input [rangePicker]="picker">
  <input matStartDate placeholder="Start date">
  <input matEndDate placeholder="End date">
</mat-date-range-input>

<mat-date-range-picker #picker></mat-date-range-picker>  &nbsp;&nbsp;&nbsp; -->
&nbsp;&nbsp;&nbsp;
<div>
  <button class="btn" (click)="createTask()">
   Create new Task
</button>&nbsp;&nbsp;&nbsp;
<button class="btn">
   <mat-icon>email</mat-icon>
</button>&nbsp;&nbsp;&nbsp;
<button class="btn">
   <mat-icon>file_download</mat-icon>
</button>&nbsp;&nbsp;&nbsp;
<button class="btn">
   <mat-icon>file_upload</mat-icon>
</button>&nbsp;&nbsp;&nbsp;
<button class="btn" [matMenuTriggerFor]="settingsMenu">
   <mat-icon>settings</mat-icon>
</button>&nbsp;&nbsp;&nbsp;
<button class="btn" (click)="refresh()">
   <mat-icon>refresh</mat-icon>
</button>
<mat-menu #settingsMenu="matMenu">
  <mat-checkbox *ngFor="let col of allColumns" [(ngModel)]="col.visible">
    {{ col.label }}
  </mat-checkbox>
</mat-menu>
</div>
</div>
<div class="container">
<div class="table-container">
  <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

    <!-- Checkbox Column -->
    <ng-container matColumnDef="select">
      <th mat-header-cell *matHeaderCellDef  >
        <mat-checkbox></mat-checkbox>
      </th>
      <td mat-cell *matCellDef="let row"  >
        <mat-checkbox></mat-checkbox>
      </td>
    </ng-container>

    <!-- Dynamic Columns -->
    <ng-container matColumnDef="task_id">
      <th mat-header-cell *matHeaderCellDef class="th-divider"> Task Id </th>
      <td mat-cell *matCellDef="let row" class="td-divider"> {{ row.id }} </td>
    </ng-container>

    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef class="th-divider"> Name </th>
      <td mat-cell *matCellDef="let row" class="td-divider"> {{ row.name }} </td>
    </ng-container>

    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef class="th-divider" > Email </th>
      <td mat-cell *matCellDef="let row" class="td-divider"> {{ row.email }} </td>
    </ng-container>



    <ng-container matColumnDef="createdAt">
      <th mat-header-cell *matHeaderCellDef class="th-divider"> Created At </th>
      <td mat-cell *matCellDef="let row" class="td-divider"> {{ row.createdAt }} </td>
    </ng-container>

    <ng-container matColumnDef="action">
      <th mat-header-cell *matHeaderCellDef class="th-divider"> Action </th>
      <td mat-cell (click)="openComments()" *matCellDef="let row" class="td-divider"> <mat-icon>arrow_drop_up</mat-icon> </td>
    </ng-container>

    <ng-container matColumnDef="updatedAt">
      <th mat-header-cell *matHeaderCellDef class="th-divider"> Updated At </th>
      <td mat-cell *matCellDef="let row" class="td-divider"> {{ row.updatedAt }} </td>
    </ng-container>

    <!-- <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef class="th-divider"> Status </th>
      <td mat-cell *matCellDef="let row of satusList" class="td-divider"> {{ row.status }} </td>
    </ng-container> -->
<!-- <ng-container matColumnDef="status">
  <th mat-header-cell *matHeaderCellDef >Status</th>
  <td  *matCellDef="let row" >
    <mat-form-field appearance="fill">
      <mat-select [(value)]="row.status" >
        <mat-option *ngFor="let status of satusList" [value]="status">
          {{ status }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </td>
</ng-container> -->
<ng-container matColumnDef="status">
  <th mat-header-cell *matHeaderCellDef>Status</th>
  <td mat-cell *matCellDef="let row">
    <!-- <mat-form-field appearance="fill"> -->
      <mat-select [(value)]="row.status" (selectionChange)="onStatusChange(row)">
        <mat-option *ngFor="let status of statusList" [value]="status">
          {{ status }}
        </mat-option>
      </mat-select>
    <!-- </mat-form-field> -->
  </td>
</ng-container>




    <!-- <ng-container matColumnDef="action">
      <th mat-header-cell *matHeaderCellDef> Action </th>
      <td mat-cell (click)="openComments()" *matCellDef="let row" > <mat-icon>wb_sunny</mat-icon> </td>
    </ng-container> -->



    <!-- Header and Row Declarations -->
    <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayColumns;"></tr>

  </table>

</div>
<mat-paginator [pageSize]="5" [pageSizeOptions]="[5, 10, 25]" showFirstLastButtons>
</mat-paginator>
</div>


